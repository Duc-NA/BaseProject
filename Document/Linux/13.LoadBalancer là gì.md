## I.Load Balancer là gì?
Load Balancer (cân bằng tải): khi một hệ thống có nhiều server cùng chạy để phục vụ cho một ứng dụng do có lượng truy cập quá lớn như (facebook, google…). Thì việc làm sao cho các server có lượng request đến là tương đương nhau tránh việc server thì có quá nhiều request đến server thì không có request nào để làm việc.Thì người ta gọi đó được là load balancer.
Một Load Balancer hoạt động như một “traffic cop” ở phía trước server và routing, các request của client đến các server có khả năng thực hiện được request đó sao cho tối ưu về tốc độ và hiệu suất nhất đảm bảo rằng server không hoạt động quá mức. 
Nếu như một server bị hỏng thì load balancer sẽ chuyển những request call vào server đó chuyển sang những server còn lại. 
Khi có một server mới được thêm vào cụm này thì những request sẽ tự động được gửi đến những server này. 


## II. Session Persistence là gì?
Thông tin phiên của người dùng được lưu trong trình duyệt. 

Ví dụ : Trong chức năng giỏ hàng thì những thông tin sản phẩm được lưu trong trình duyệt đến khi nào người dùng đó mua sản phẩm đó. Nên khi mà người dùng gửi request mua hàng đi mà gửi đến một server khác thì sẽ gây lỗi. Điều quan trọng nhất là những request của một người phải cùng gửi đến một server trong một phiên. Điều đó được gọi là session persistence. 

 Một loadbalancer tốt là giải quyết được vấn đề “session persistence” 

## III.Các loại loadbalancer và thuật toán sử dụng. 
Loadbalancer thường được nhóm thành 2 loại là layer 4 và layer 7.
Load balancer Layer 4(transport) hoạt động dựa trên dữ liệu được tìm thấy trong giao thức mạng và trong việc transport của các gói tin (IP, TCP, FTP, UDP)
Các bộ load balancer Layer 7 phân phối các yêu cầu dựa trên dữ liệu được tìm thấy trong bộ giao thức layer application như HTTP.
Load balancer layer 7 có thể phân phối thêm request dựa trên dữ liệu cụ thể của ứng dụng như http. Có thể phân phối thêm các request dựa trên dữ liệu cụ thể của ứng dụng như HTTP header, cookies hoặc dữ liệu trong chính thông báo ứng dụng, chẳng hạn như giá trị của một thông số cụ thể.

Một số thuật toán được sử dụng trong việc load balancer:
Round robin: là thuật toán điều phối vòng tròn. Các request sẽ được gửi tới từng máy chủ theo thứ tự và quay ngược lại
Weighted round robin. Tương tự như RR nhưng WRR còn có khả năng xử lý thêm theo cấu hình của từng server. Weight - mặc định là 1. Server nào được đánh số cao hơn thì sẽ được xử lý số lượng request cao hơn. 
Least connections: Các request sẽ được chuyển vào server có ít kết nối nhất trong hệ thống. 
Least response time: Đây là thuật toán dựa trên tính toán thời gian trả lại response nhanh nhất
IP hash: Thuật toán chỉ định ip nào sẽ được request tới server nào. 


## IV. Tại sao lại sử dụng load balancer?
Do không thể đảm bảo xử lý được lượng lớn traffic vào website.
Không đảm bảo tính sẵn sàng của dịch vụ doanh nghiệp nếu chỉ sử dụng duy nhất một cloud server. Khi gặp vấn đề ở một server đó thì phải có 1 server khác để khiến cho website không thể bị downtime để gây  ảnh hưởng đến trải nghiệm người dùng và doanh thu của doanh nghiệp
